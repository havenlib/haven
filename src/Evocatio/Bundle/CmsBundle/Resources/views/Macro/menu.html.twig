{% macro list_children(entity) %}
    {% import _self as menu %}
{% import "::macro/route/crud.html.twig" as _route_crud %}
            {% for child in entity.getChildren() %}
<ul>
    <li>id loop: {{ loop.index }} -- {{ child.id }} {{ child.node.name }}
        <ul class='links'>
            <li>
                <a href="{{ _route_crud.edit('owner_site_menu_edit',  child.id) }}">edit</a> 
            </li>
            <li>
                <a href="{{ _route_crud.path('owner_site_menu_create', "create", {"parent": child.id}) }}" method="post">
                    ajouter un enfant
                </a>
            </li>
        </ul>
    </li>
                {% if(child.hasChildren) %}
                    {{ menu.list_children(child) }}
                {% endif %}
</ul>
            {% endfor %}
{% endmacro %}
