{% extends "OwnerSiteBundle::base_admin.html.twig" %}
{% import "EvocatioCmsBundle:Macro:menu.html.twig" as _menu %}
{% block inside_content %}
<h2>Liste des menus</h2>
        {% for entity in entities %}
<ul class='list'>
    <li>{{ entity.id }} {{ entity.node.name }}
        <ul class='links'>
            <li>
                <a href="{{ _route_crud.edit('owner_site_menu_edit',  entity.id) }}">edit</a>
 <!-- form action="{{ _route_crud.delete('owner_site_menu_delete') }}" method="post">
                        {{ form_widget(delete_forms[entity.id]) }}
        </form--> 
            </li>
            <li>
                <a href="{{ _route_crud.path('owner_site_menu_create', "create", {"parent": entity.id, 'type': "external"}) }}" method="post">
                    ajouter un lien externe
                </a>
            </li>
            <li>
                <a href="{{ _route_crud.path('owner_site_menu_create', "create", {"parent": entity.id, 'type': "internal"}) }}" method="post">
                    ajouter des liens interne
                </a>
            </li>
        </ul>
    </li>
                {% if(entity.hasChildren) %}
                    {{ _menu.list_children(entity) }}
                {% endif %}
</ul>
        {% else %}
Aucun Menu
        {% endfor %}
<ul>
    <li>
        <a href="{{ _route_crud.path('owner_site_menu_create', 'create') }}">
            Create a new entry
        </a>
    </li>
</ul>
{% endblock inside_content %}
